# 改包装关务信息接口

接口定义方：唯智

## 功能描述

* 慧通关向唯智查询车型信息

## 接口详情

### 查询型信息请求

路径：

```
    http://14.29.237.141:8090/leaderrun_edi/servlet/leaderrunServiceToCMS/queryBaseVehicleType
```


* 测试环境使用http协议，生产环境使用https加密协议
请求头信息：

```
Authorization: Access_Key XXXXXXXX
```

请求方法：POST

内容：

```json
{
    "code": ["车型编码1","车型编码2"]}
```

返回内容：

```json
{
    "success": true,
    "message": "若success为false时候的错误信息",
    "result": {
        "processId": "OMS的流程ID"
    }
}
```

说明：

* Authorization头信息：
    * 立航负责在慧通关平台中生成此秘钥
    * 此秘钥是代表立航的身份
    * WMS是以立航的身份调用此接口
    * 在慧通关的所有接口，都需要这个头信息作身份验证
* fromItems、toItems 中的id（输入）：
    * 此ID在入仓时作为货物行的系统交互的唯一标识
    * 在改变包装后新产生的货物行，需要建一个新的ID
    * 若新旧行ID相等并只有一条数据，表示不产生新行，只改动单位和数量，旧行的数量需要是全部库存数量
* items中的qty（输入）：
    * 出库数量，按当前货物行的单位为准
* omsProcessConfigId（输入）：
    * 触发具体变更流程
    * 用户在OMS管理具体变更包装流程，processConfigId在OMS生成，并建议复制此值到WMS的出仓配置中
* nw/gw/nwUnit/gwUnit:
    * 旧行的总毛重和总净重，需要等于新行的总毛重和总净重
    * 若新旧行ID相等并只有一条数据，重量字段可以缺省不录，复用系统库存值
* callbackUrl:
    * 在完成整个变更流程后，系统会给此接口回调
* processId（输出）：
    * 此接口若成功，则返回流程编号，用来标识这一票订单在OMS内的唯一标识


流程完成后，系统会对CallbackUrl进行回调，详情请看：[改包装关务信息反馈接口](RepackResp.md)
